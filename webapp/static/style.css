:root{
  --bg:#0f1115; --panel:#151923; --muted:#aab; --text:#e9edf1; --accent:#6ee7b7;
  --me:#2b3949; --bot:#1c2433;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font:16px/1.45 -apple-system,system-ui,Segoe UI,Roboto,Ubuntu}
#app{display:flex; height:100vh; width:100vw; overflow:hidden}

#sidebar{width:300px;background:var(--panel);border-right:1px solid #1f2734;display:flex;flex-direction:column}
#sidebar header{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid #1f2734}
#sidebar h2{margin:0;font-size:18px}
#sidebar button{background:#243044;color:#fff;border:0;border-radius:6px;padding:6px 10px;cursor:pointer}
#sidebar ul{list-style:none;margin:0;padding:0;overflow:auto}
#sidebar li{padding:10px 12px;border-bottom:1px solid #1f2734;cursor:pointer}
#sidebar li:hover{background:#1a2230}
#sidebar footer{padding:10px 12px;border-top:1px solid #1f2734;display:flex;gap:10px}

#chat{flex:1;display:flex;flex-direction:column}
#topbar{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-bottom:1px solid #1f2734;background:#0f1420}
#messages{flex:1; overflow:auto; padding:18px 18px 10px}

.msg{max-width:70%;padding:10px 12px;border-radius:12px;margin:6px 0;white-space:pre-wrap}
.msg.bot{background:var(--bot);text-align:left}
.msg.me{background:var(--me);margin-left:auto;text-align:right}
#typing{display:flex;gap:5px; padding:10px; margin:4px 0 12px; width:80px}
.hidden{display:none}
.dot{width:8px;height:8px;background:#9ac;display:inline-block;border-radius:50%;animation:blink 1.2s infinite}
.dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
@keyframes blink{0%,80%,100%{opacity:.2}40%{opacity:1}}

#composer{display:flex;gap:8px;padding:10px;border-top:1px solid #1f2734;background:#0f1420}
#composer input[type=text]{flex:1;border:1px solid #243044;background:#101826;color:#fff;border-radius:8px;padding:12px 10px;font-size:16px}
#composer button{border:0;background:#2a3850;color:#fff;padding:10px 12px;border-radius:8px}
#composer .addfile{display:flex;align-items:center;justify-content:center;width:42px;height:42px;border:1px dashed #2a3850;border-radius:8px;cursor:pointer}
#composer input[type=file]{display:none}

#attachPreview{display:flex;flex-wrap:wrap;gap:8px;padding:0 12px 8px}
.badge{background:#223149;border:1px solid #2a3b5a;color:#cfe;border-radius:6px;padding:4px 8px;font-size:12px}

@media (max-width:820px){
  #sidebar{width:0;position:absolute;z-index:5;left:0;top:0;bottom:0;transition:width .2s}
}
